<gitgud-top-bar class="float-left"/>

@let currentRepoIndex = (gitRepositoryService.currentRepositoryIndex$ | async) ?? -1;
@if (currentRepoIndex != -1) {
    <p-tabView
            [activeIndex]="currentRepoIndex"
            (activeIndexChange)="gitRepositoryService.selectRepositoryByIndex($event)"
            [scrollable]="true" [autoHideButtons]="true" class="no-panels-paddings"
            (onClose)="gitRepositoryService.removeRepository($event.index)">
        <p-tabPanel
                *ngFor="let repository$ of gitRepositoryService.repositories$"
                [leftIcon]="'fa fa-code-fork'"
                [header]="(repository$ | async)!.name"
                class="relative"
                [closable]="true">
            <gitgud-repository-view [gitRepository]="(repository$ | async)!"/>
        </p-tabPanel>


    </p-tabView>
}

<p-toast/>
