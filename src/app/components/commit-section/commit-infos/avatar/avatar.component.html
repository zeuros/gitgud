<img [class.hidden]="!avatarLoaded"
     [src]="identity.email | gravatarUrl"
     (load)="avatarLoaded = true"
     (error)="avatarLoaded = false"
     class="avatar-size"
     alt="user avatar"/>

<img *ngIf="!avatarLoaded"
     [src]="identity.email | identicon"
     alt="user avatar"/>